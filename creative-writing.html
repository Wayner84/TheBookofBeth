<!DOCTYPE HTML>
<!--
	Escape Velocity by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Creative Writing - The Book of Beth</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<style>
			.stories-grid {
				display: grid;
				grid-template-columns: repeat(3, 1fr);
				gap: 1.5rem;
				margin-top: 2rem;
			}
			
			.story-box {
				background: rgba(255, 255, 255, 0.05);
				border-radius: 12px;
				padding: 1.5rem;
				border: 1px solid rgba(255, 255, 255, 0.1);
				box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
				transition: transform 0.2s ease, box-shadow 0.2s ease;
				height: fit-content;
			}
			
			.story-box:hover {
				transform: translateY(-2px);
				box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
			}
			
			.story-title {
				font-weight: bold;
				font-size: 1.2em;
				margin-bottom: 0.5rem;
				color: inherit;
				text-decoration: none;
				display: block;
			}
			
			.story-title:hover {
				color: #4CAF50;
				text-decoration: none;
			}
			
			.story-date {
				font-size: 0.85em;
				opacity: 0.7;
				margin-bottom: 1rem;
				font-style: italic;
			}
			
			.story-preview {
				line-height: 1.6;
				margin-bottom: 1.5rem;
				display: -webkit-box;
				-webkit-line-clamp: 3;
				-webkit-box-orient: vertical;
				overflow: hidden;
				text-overflow: ellipsis;
				min-height: 4.8em; /* Ensures consistent height for 3 lines */
			}
			
			@media (max-width: 1024px) {
				.stories-grid {
					grid-template-columns: repeat(2, 1fr);
				}
			}
			
			@media (max-width: 768px) {
				.stories-grid {
					grid-template-columns: 1fr;
					gap: 1rem;
				}
			}
		</style>
	</head>
	<body class="no-sidebar is-preload">
		<div id="page-wrapper">

			<!-- Header -->
				<section id="header" class="wrapper">

					<!-- Logo -->
						<div id="logo">
							<h1><a href="index.html">Beth Holder</a></h1>
							<p>The Book of Beth, my personal blog site</p>
						</div>

					<!-- Nav -->
						<nav id="nav">
							<ul>
								<li><a href="index.html">Home</a></li>
								<li class="current"><a href="creative-writing.html">Creative Writing</a></li>
								<li><a href="poetry.html">Poetry</a></li>
								<li><a href="university.html">University</a></li>
							</ul>
						</nav>

				</section>

			<!-- Main -->
				<div id="main" class="wrapper style2">
					<div class="title">Creative Writing</div>
					<div class="container">

						<!-- Content -->
							<div id="content">
								<header class="style1">
									<h2>My Creative Writing Journey</h2>
									<p>Stories, fragments, and worlds waiting to be explored</p>
								</header>
								
								<div id="writing-list" class="stories-grid">
									<!-- Writing pieces will be dynamically loaded here -->
								</div>
								
								<div id="no-writing" style="text-align: center; padding: 2rem;">
									<p>No creative writing pieces have been published yet. Check back soon!</p>
								</div>
							</div>

					</div>
				</div>

			<!-- Footer -->
				<section id="footer" class="wrapper">
					<div class="title">Want to comment on my work?</div>
					<div class="container">
						<header class="style1">
							<h2>Any criticism welcome!</h2>
							<p>
								If you'd like to comment on my work please click the link below! If you could include the name of the piece you are commenting on in the subject, that'd be amazing!<br />
							</p>
						</header>
						<section style="justify-content: center;">
						<div style="text-align: center; font-family: 'Source Sans Pro', sans-serif; font-size: 3em; font-style: italic;">
						  <a href="https://formsubmit.co/el/libato" target="_blank">Send me a message here!</a>
						</div>
						</section>
				</section>
				<section>
					<div>
						<div>
						<div id="copyright">
							<ul>
								<li>&copy; The Book of Beth EST 1999</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
							</ul>
						</div>
						</div>
					</div>
				</section>

		</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.dropotron.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			
			<script>
				// Function to load and display writing pieces
				async function loadWritingPieces() {
					const writingList = document.getElementById('writing-list');
					const noWriting = document.getElementById('no-writing');
					
					// List of creative writing files (you'll need to update this manually when adding new pieces)
					const writingFiles = [
						// Add your files here following the pattern: 'creative-writing/CW-DD.MM.YYYY.html'
						// Example: 'creative-writing/CW-10.08.2025.html'
						'creative-writing/cw-02-08-23.html',
						'creative-writing/cw-13-06-23.html',
						'creative-writing/cw-04-06-23.html',
						'creative-writing/cw-27-05-23.html',
						'creative-writing/cw-23-05-23.html',
						'creative-writing/cw-17-05-23.html',
						'creative-writing/cw-01-05-23.html',
						'creative-writing/cw-11-04-23.html',
						'creative-writing/cw-07-04-23.html',
						'creative-writing/cw-05-04-23.html',
						'creative-writing/cw-03-04-23.html',
						'creative-writing/cw-22-02-21.html',
						'creative-writing/cw-05-02-21.html',
						'creative-writing/cw-03-12-20.html',
						'creative-writing/cw-02-12-20.html',
						'creative-writing/cw-23-07-19.html',
						'creative-writing/cw-22-07-19.html',
						'creative-writing/cw-11-03-19.html',
						'creative-writing/cw-19-01-19.html',
						'creative-writing/cw-04-01-19.html',
						'creative-writing/cw-03-01-19.html',
						'creative-writing/cw-19-12-18.html',
						'creative-writing/cw-27-11-18.html',
						'creative-writing/cw-19-11-18.html',

						'creative-writing/CW-13.11.2018.html',
						'creative-writing/CW-16.11.2018.html'
						
					];
					
					if (writingFiles.length === 0) {
						noWriting.style.display = 'block';
						return;
					}
					
					noWriting.style.display = 'none';
					
					// Sort files by date (newest first)
					writingFiles.sort((a, b) => {
						const dateA = extractDateFromFilename(a);
						const dateB = extractDateFromFilename(b);
						return dateB - dateA;
					});
					
					for (const file of writingFiles) {
						try {
							const response = await fetch(file);
							if (response.ok) {
								const html = await response.text();
								const parser = new DOMParser();
								const doc = parser.parseFromString(html, 'text/html');
								
								// Extract title from the main content area, not the header
								const contentTitle = doc.querySelector('#content h1, #main h1, article h1')?.textContent || 
								                     doc.querySelector('#content h2, #main h2, article h2')?.textContent || 
								                     'Untitled';
								const title = contentTitle;
								
								// Get all paragraphs and find the first one with actual story content
								const paragraphs = doc.querySelectorAll('p');
								let storyContent = '';
								
								for (let p of paragraphs) {
									const text = p.textContent?.trim();
									// Skip the publication date and other metadata
									if (text && !text.includes('Published:') && !text.includes('The Book of Beth')) {
										storyContent = text;
										break;
									}
								}
								
								// Create preview from story content (about 120 characters for 2-3 lines)
								const preview = storyContent.length > 120 ? storyContent.substring(0, 120) + '...' : storyContent || 'No preview available';
								
								const date = formatDateFromFilename(file);
								
								// Create article entry with new styling
								const articleHTML = `
									<div class="story-box">
										<div class="story-title">
											<a href="${file}">${title}</a>
										</div>
										<div class="story-date">
											Published: ${date}
										</div>
										<div class="story-preview">
											${preview}
										</div>
										<ul class="actions">
											<li><a href="${file}" class="button style1">Read Full Piece</a></li>
										</ul>
									</div>
								`;
								
								writingList.innerHTML += articleHTML;
							}
						} catch (error) {
							console.log('Could not load:', file);
						}
					}
				}
				
				function extractDateFromFilename(filename) {
					const match = filename.match(/(\d{2})\.(\d{2})\.(\d{4})/);
					if (match) {
						const [, day, month, year] = match;
						return new Date(year, month - 1, day);
					}
					return new Date(0);
				}
				
				function formatDateFromFilename(filename) {
					const match = filename.match(/(\d{2})\.(\d{2})\.(\d{4})/);
					if (match) {
						const [, day, month, year] = match;
						return `${day}/${month}/${year}`;
					}
					return 'Unknown date';
				}
				
				// Load writing pieces when page loads
				document.addEventListener('DOMContentLoaded', loadWritingPieces);
			</script>

	</body>
</html>